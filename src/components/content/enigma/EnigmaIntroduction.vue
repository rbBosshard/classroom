<script setup lang="ts">
import EnigmaHistory from './EnigmaHistory.vue';

import enigmaImage from '@/assets/images/enigma_wikipedia.jpg';
import enigmaImgageColored from '@/assets/images/enigma_colored.webp';
import enigmaImgageCircuit from '@/assets/images/enigma_clear_circuit.jpg';
</script>

<template>
  <section id="intro" class="mb-16 scroll-mt-24">
    <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
      <span class="text-4xl">üéØ</span>
      Einf√ºhrung: Was ist die ENIGMA?
    </h2>

    <div class="prose max-w-none">
      <div class="grid md:grid-cols-2 gap-6 mb-8">
        <!-- Text -->
        <div class="bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-lg">
          <p class="text-lg text-gray-700 leading-relaxed">
            Die <strong>ENIGMA</strong> war eine elektromechanische Rotor-Chiffriermaschine, die im
            2. Weltkrieg von der Wehrmacht zur Verschl√ºsselung ihrer Funkspr√ºche genutzt wurde. Die
            ENIGMA galt lange als unknackbar ‚Äì bis ein Team um Alan Turing ("Vater der Informatik")
            die Verschl√ºsselung brach. Dieser Erfolg der Alliierten spielte eine entscheidende Rolle
            im Informationskrieg und trug massgeblich zum Ausgang des Krieges bei.
          </p>
        </div>

        <!-- Image -->
        <div class="bg-gray-100 rounded-lg overflow-hidden shadow-lg flex flex-col">
          <img
            :src="enigmaImage"
            alt="ENIGMA Chiffriermaschine"
            class="w-full h-100 object-cover"
          />
          <p class="text-xs text-gray-500 text-center py-2 bg-gray-50">
            ENIGMA M3 Chiffriermaschine (Wehrmacht)
          </p>
        </div>
      </div>

      <EnigmaHistory />

      <div class="bg-gradient-to-r from-pink-50 to-green-50 p-8 rounded-lg mb-8">
        <h3 class="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2">
          Die Verschl√ºsselungsmaschine ENIGMA im √úberblick
        </h3>
        <!-- Image -->
        <div class="bg-gray-100 rounded-lg overflow-hidden shadow-lg flex flex-col">
          <img
            :src="enigmaImgageColored"
            alt="ENIGMA Chiffriermaschine Schema"
            class="w-full h-100 object-cover"
          />
          <p class="text-xs text-gray-500 text-center py-2 bg-gray-50"></p>
        </div>
        <div class="grid md:grid-cols-2 gap-6 mb-8 mt-4">
          <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-red-500">
            <div class="text-4xl mb-3">1. ‚å®Ô∏è</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Tastatur (Keyboard)</h3>
            <p class="text-gray-600">26 Tasten f√ºr das Alphabet. Beim Dr√ºcken einer Taste...</p>
          </div>

          <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-orange-500">
            <div class="text-4xl mb-3">2. ‚öôÔ∏è</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Rotoren (Rotors / Scramblers)</h3>
            <p class="text-gray-600">
              ...l√§uft elektrischer Strom durch 3-5 Rotoren, die sich
              <strong>nach jedem Buchstaben drehen</strong>.
            </p>
          </div>

          <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-yellow-500">
            <div class="text-4xl mb-3">3. üîå</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Steckerbrett (Plugboard)</h3>
            <p class="text-gray-600">
              Vor und nach den Rotoren wird der Strom durch das Steckerbrett geleitet, das
              Buchstabenpaare vertauscht und die Sicherheit erh√∂ht.
            </p>
          </div>

          <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-yellow-500">
            <div class="text-4xl mb-3">4. üí°</div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Lampenfeld (Lampboard)</h3>
            <p class="text-gray-600">
              Eine Lampe leuchtet auf und zeigt den verschl√ºsselten Buchstaben an.
            </p>
          </div>
        </div>
      </div>

      <div class="bg-grey-50 border-l-4 border-grey-500 p-6 rounded-r-lg">
        <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
          <span>üí°</span>
          ENIGMA Signal-Weg (Stromkreis)
        </h3>
        <!-- Image -->
        <div class="bg-gray-100 rounded-lg overflow-hidden shadow-lg flex flex-col">
          <img :src="enigmaImgageCircuit" alt="ENIGMA Circuit" class="w-full h-100 object-cover" />
          <p class="text-xs text-gray-500 text-center py-2 bg-gray-50"></p>
        </div>

        <div class="space-y-2 mb-6">
          <div class="flex items-center gap-3 p-3 bg-blue-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >1</span
            >
            <span class="font-semibold">Taste dr√ºcken auf dem Keyboard</span>
            <span class="ml-auto">z.B. E</span>
          </div>

          <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >2</span
            >
            <span class="font-semibold">Steckerbrett (Plugboard) Eingang</span>
            <span class="ml-auto">E ‚Üí J (falls mit Kabel verbunden)</span>
          </div>

          <div class="flex items-center gap-3 p-3 bg-orange-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >3</span
            >
            <span class="font-semibold">Durch Rotoren vorw√§rts</span>
            <span class="ml-auto">J ‚Üí A ‚Üí G ‚Üí W</span>
          </div>

          <div class="flex items-center gap-3 p-3 bg-purple-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >4</span
            >
            <span class="font-semibold">Reflektor</span>
            <span class="ml-auto">W ‚Üí L</span>
          </div>

          <div class="flex items-center gap-3 p-3 bg-orange-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >5</span
            >
            <span class="font-semibold">Durch Rotoren r√ºckw√§rts</span>
            <span class="ml-auto">L ‚Üí R ‚Üí T ‚Üí O</span>
          </div>

          <div class="flex items-center gap-3 p-3 bg-green-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >6</span
            >
            <span class="font-semibold">Steckerbrett (Ausgang)</span>
            <span class="ml-auto">O ‚Üí O (Kein Kabel mit O verbunden)</span>
          </div>

          <div class="flex items-center gap-3 p-3 bg-red-50 rounded-lg">
            <span
              class="flex-shrink-0 w-8 h-8 bg-red-600 text-white rounded-full flex items-center justify-center font-bold text-sm"
              >7</span
            >
            <span class="font-semibold">Lampe leuchtet</span>
            <span class="ml-auto">Buchstabe O leuchtet</span>
          </div>
        </div>
      </div>

      <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 rounded-r-lg">
        <h3 class="text-xl font-bold text-gray-800 mb-3 flex items-center gap-2">
          <span>üí°</span>
          Warum war ENIGMA so sicher?
        </h3>
        <p class="text-gray-700 mb-4">
          Die Wehrmacht-ENIGMA (M3) hatte etwa <strong>159.000.000.000.000.000.000</strong>
          (159 Trilliarden) m√∂gliche Einstellungen (so viele Schl√ºssel):
        </p>
        <ul class="list-disc list-inside space-y-2 text-gray-700 ml-4">
          <li>
            3 Rotoren aus 5 ausw√§hlen:
            <code class="bg-yellow-100 px-2 py-1 rounded">60 M√∂glichkeiten</code>
          </li>
          <li>
            Rotorstellungen (AAA-ZZZ):
            <code class="bg-yellow-100 px-2 py-1 rounded">17.576 M√∂glichkeiten</code>
          </li>
          <li>
            Ringstellungen (schauen wir nicht an):
            <code class="bg-yellow-100 px-2 py-1 rounded">17.576 M√∂glichkeiten</code>
          </li>
          <li>
            Steckerbrett (10 Kabelpaare):
            <code class="bg-yellow-100 px-2 py-1 rounded">~150 Billionen M√∂glichkeiten</code>
          </li>
        </ul>
      </div>
    </div>
  </section>
</template>

<style scoped>
.prose {
  line-height: 1.75;
}

code {
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
}
</style>
